{% load static %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha256-98vAGjEDGN79TjHkYWVD4s87rvWkdWLHPs5MC3FvFX4=" crossorigin="anonymous"></script>

<script src="{% static 'vendor/bootstrap-italia/js/bootstrap-italia.min.js' %}"></script>

<!-- necessari solo per il backoffice -->
<script src="{{ MEDIA_URL }}javascript/instantsearch.js"></script>
<script src="{{ MEDIA_URL }}javascript/base.js"></script>
<script src="{% static 'core/js/site.js' %}"></script>
<script>
    var site = require('core/site');
    site.handle_notification_dismiss();
</script>
<script>
    $(function() {
        $("#language").on("change", function() {
            this.form.submit();
        });

        var scrollOffset = $(".publish-how-to-description").data("offset");
        // Smooth scroll
        $('.list-group-item[href*="#"]:not([href="#"])').click(function(e) {
            e.preventDefault();
            if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
                var target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                if (target.length) {
                    $('html, body').animate({
                        scrollTop: (target.offset().top - scrollOffset)
                    }, 1000);
                    return false;
                }
            }
        });

        // Scrollspy
        if ($('#publish-howto-list').length) {
            $('body').scrollspy({
                target: '#publish-howto-list',
                offset: scrollOffset
            });
        }

    });
</script>